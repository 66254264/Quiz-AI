# æ•°æ®åº“åˆå§‹åŒ–æŒ‡å—

## ä»€ä¹ˆæ˜¯ Seederï¼Ÿ

Seeder æ˜¯ä¸€ä¸ªæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ï¼Œç”¨äºåˆ›å»ºæµ‹è¯•æ•°æ®ï¼ŒåŒ…æ‹¬ï¼š
- 1 ä¸ªæ•™å¸ˆè´¦å·
- 2 ä¸ªå­¦ç”Ÿè´¦å·
- 3 é“ç¤ºä¾‹é¢˜ç›®
- 1 ä¸ªæµ‹éªŒä¼šè¯

## å¦‚ä½•è¿è¡Œ

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ npm è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
cd backend
npm run seed
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨ ts-node ç›´æ¥è¿è¡Œ

```bash
cd backend
npx ts-node src/utils/seeder.ts
```

## åˆ›å»ºçš„æµ‹è¯•æ•°æ®

### æ•™å¸ˆè´¦å·
- **ç”¨æˆ·å**: admin_teacher
- **é‚®ç®±**: teacher@example.com
- **å¯†ç **: Teacher123!
- **è§’è‰²**: æ•™å¸ˆ

### å­¦ç”Ÿè´¦å·

**å­¦ç”Ÿ 1:**
- **ç”¨æˆ·å**: student1
- **é‚®ç®±**: student1@example.com
- **å¯†ç **: Student123!
- **è§’è‰²**: å­¦ç”Ÿ

**å­¦ç”Ÿ 2:**
- **ç”¨æˆ·å**: student2
- **é‚®ç®±**: student2@example.com
- **å¯†ç **: Student123!
- **è§’è‰²**: å­¦ç”Ÿ

### ç¤ºä¾‹é¢˜ç›®

1. **JavaScript Basics** (ç®€å•)
   - å…³äº JavaScript å˜é‡å£°æ˜

2. **React Components** (ä¸­ç­‰)
   - å…³äº React å‡½æ•°ç»„ä»¶

3. **Database Concepts** (å›°éš¾)
   - å…³äº ACID æ•°æ®åº“æ¦‚å¿µ

### æµ‹éªŒä¼šè¯

- **æ ‡é¢˜**: Programming Fundamentals Quiz
- **æè¿°**: æ¶µç›– JavaScriptã€React å’Œæ•°æ®åº“æ¦‚å¿µçš„åŸºç¡€æµ‹éªŒ
- **æ—¶é—´é™åˆ¶**: 30 åˆ†é’Ÿ
- **çŠ¶æ€**: æ¿€æ´»
- **åŒ…å«**: ä¸Šè¿° 3 é“é¢˜ç›®

## æ³¨æ„äº‹é¡¹

### âš ï¸ æ•°æ®å·²å­˜åœ¨

å¦‚æœæ•°æ®åº“ä¸­å·²ç»æœ‰ç”¨æˆ·æ•°æ®ï¼Œseeder ä¼šè·³è¿‡åˆå§‹åŒ–ï¼š

```
ğŸ“Š Database already contains data, skipping seeding
```

è¿™æ˜¯ä¸ºäº†é˜²æ­¢é‡å¤åˆ›å»ºæ•°æ®ã€‚

### ğŸ—‘ï¸ æ¸…ç©ºæ•°æ®åº“

å¦‚æœéœ€è¦é‡æ–°åˆå§‹åŒ–ï¼Œå…ˆæ¸…ç©ºæ•°æ®åº“ï¼š

**æ–¹æ³•ä¸€ï¼šä½¿ç”¨ MongoDB Shell**
```bash
mongosh
use quiz-system
db.dropDatabase()
exit
```

**æ–¹æ³•äºŒï¼šä½¿ç”¨ä»£ç ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰**

åœ¨ `src/utils/seeder.ts` ä¸­æœ‰ `clearDatabase()` å’Œ `resetDatabase()` å‡½æ•°ï¼Œä½†éœ€è¦æ‰‹åŠ¨è°ƒç”¨ã€‚

## å¸¸è§é—®é¢˜

### Q: è¿è¡Œ seed æ—¶å‡ºç° TypeScript é”™è¯¯ï¼Ÿ

**é”™è¯¯**: `Unable to compile TypeScript`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿å·²å®‰è£…ä¾èµ–
npm install

# ç¡®ä¿ TypeScript é…ç½®æ­£ç¡®
npm run build
```

### Q: è¿æ¥æ•°æ®åº“å¤±è´¥ï¼Ÿ

**é”™è¯¯**: `MongooseServerSelectionError`

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ç¡®ä¿ MongoDB æ­£åœ¨è¿è¡Œ
# Windows: net start MongoDB
# macOS: brew services start mongodb-community
# Linux: sudo systemctl start mongod

# æ£€æŸ¥è¿æ¥
mongosh
```

### Q: å¯†ç æ ¼å¼ä¸æ­£ç¡®ï¼Ÿ

Seeder åˆ›å»ºçš„å¯†ç å·²ç»ç¬¦åˆç³»ç»Ÿè¦æ±‚ï¼š
- è‡³å°‘ 6 ä¸ªå­—ç¬¦
- åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—

å¯†ç ä¼šåœ¨ä¿å­˜æ—¶è‡ªåŠ¨åŠ å¯†ï¼ˆbcryptï¼‰ã€‚

### Q: å¦‚ä½•ä¿®æ”¹æµ‹è¯•æ•°æ®ï¼Ÿ

ç¼–è¾‘ `backend/src/utils/seeder.ts` æ–‡ä»¶ï¼š

```typescript
// ä¿®æ”¹æ•™å¸ˆä¿¡æ¯
const adminTeacher = new User({
  username: 'your_username',
  email: 'your@email.com',
  password: 'YourPassword123!',
  // ...
});

// ä¿®æ”¹å­¦ç”Ÿä¿¡æ¯
const students = [
  {
    username: 'custom_student',
    // ...
  }
];

// ä¿®æ”¹é¢˜ç›®
const sampleQuestions = [
  {
    title: 'Your Question',
    content: 'Your question content',
    // ...
  }
];
```

## éªŒè¯æ•°æ®

### ä½¿ç”¨ MongoDB Shell

```bash
mongosh
use quiz-system

# æŸ¥çœ‹ç”¨æˆ·
db.users.find().pretty()

# æŸ¥çœ‹é¢˜ç›®
db.questions.find().pretty()

# æŸ¥çœ‹æµ‹éªŒ
db.quizsessions.find().pretty()
```

### ä½¿ç”¨åº”ç”¨ç¨‹åº

1. å¯åŠ¨åç«¯æœåŠ¡å™¨ï¼š
```bash
npm run dev
```

2. ä½¿ç”¨æµ‹è¯•è´¦å·ç™»å½•å‰ç«¯åº”ç”¨

3. æ•™å¸ˆè´¦å·å¯ä»¥ï¼š
   - æŸ¥çœ‹é¢˜ç›®åˆ—è¡¨
   - æŸ¥çœ‹ç»Ÿè®¡åˆ†æ

4. å­¦ç”Ÿè´¦å·å¯ä»¥ï¼š
   - æŸ¥çœ‹å¯ç”¨æµ‹éªŒ
   - å‚åŠ æµ‹éªŒ

## è„šæœ¬è¯´æ˜

### seedDatabase()
- åˆ›å»ºåˆå§‹æµ‹è¯•æ•°æ®
- å¦‚æœæ•°æ®å·²å­˜åœ¨åˆ™è·³è¿‡
- è¿”å› Promise

### clearDatabase()
- æ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼ˆè°¨æ…ä½¿ç”¨ï¼ï¼‰
- åˆ é™¤æ‰€æœ‰ç”¨æˆ·ã€é¢˜ç›®å’Œæµ‹éªŒ
- è¿”å› Promise

### resetDatabase()
- æ¸…ç©ºæ•°æ®åº“å¹¶é‡æ–°åˆå§‹åŒ–
- ç›¸å½“äº clearDatabase() + seedDatabase()
- è¿”å› Promise

## ç”Ÿäº§ç¯å¢ƒæ³¨æ„

âš ï¸ **ä¸è¦åœ¨ç”Ÿäº§ç¯å¢ƒè¿è¡Œ seederï¼**

Seeder ä»…ç”¨äºï¼š
- æœ¬åœ°å¼€å‘
- æµ‹è¯•ç¯å¢ƒ
- æ¼”ç¤ºç¯å¢ƒ

ç”Ÿäº§ç¯å¢ƒåº”è¯¥ï¼š
- é€šè¿‡æ³¨å†ŒåŠŸèƒ½åˆ›å»ºçœŸå®ç”¨æˆ·
- ç”±æ•™å¸ˆåˆ›å»ºçœŸå®é¢˜ç›®
- ä¸ä½¿ç”¨æµ‹è¯•æ•°æ®

## è‡ªå®šä¹‰ Seeder

å¦‚æœéœ€è¦åˆ›å»ºæ›´å¤šæµ‹è¯•æ•°æ®ï¼Œå¯ä»¥ï¼š

1. å¤åˆ¶ `seeder.ts` åˆ›å»ºæ–°æ–‡ä»¶
2. ä¿®æ”¹æ•°æ®å†…å®¹
3. åœ¨ `package.json` æ·»åŠ æ–°è„šæœ¬ï¼š

```json
{
  "scripts": {
    "seed:custom": "ts-node src/utils/custom-seeder.ts"
  }
}
```

## æ•…éšœæ’é™¤

### é—®é¢˜ï¼šSeeder è¿è¡Œä½†æ²¡æœ‰åˆ›å»ºæ•°æ®

**æ£€æŸ¥**:
1. MongoDB æ˜¯å¦è¿è¡Œï¼Ÿ
2. æ•°æ®åº“è¿æ¥é…ç½®æ˜¯å¦æ­£ç¡®ï¼Ÿ
3. æ˜¯å¦å·²æœ‰æ•°æ®ï¼ˆä¼šè·³è¿‡ï¼‰ï¼Ÿ

### é—®é¢˜ï¼šå¯†ç æ— æ³•ç™»å½•

**åŸå› **: å¯†ç åœ¨ä¿å­˜æ—¶ä¼šè¢«åŠ å¯†

**è§£å†³**: ä½¿ç”¨ seeder ä¸­å®šä¹‰çš„åŸå§‹å¯†ç ç™»å½•ï¼š
- æ•™å¸ˆ: `Teacher123!`
- å­¦ç”Ÿ: `Student123!`

### é—®é¢˜ï¼šé¢˜ç›®æ²¡æœ‰æ˜¾ç¤º

**æ£€æŸ¥**:
1. é¢˜ç›®æ˜¯å¦æˆåŠŸåˆ›å»ºï¼Ÿ
2. æµ‹éªŒä¼šè¯æ˜¯å¦æ¿€æ´»ï¼Ÿ
3. å‰ç«¯æ˜¯å¦æ­£ç¡®è¿æ¥åç«¯ï¼Ÿ

## ç›¸å…³æ–‡ä»¶

- `backend/src/utils/seeder.ts` - Seeder è„šæœ¬
- `backend/src/models/` - æ•°æ®æ¨¡å‹
- `backend/.env` - æ•°æ®åº“é…ç½®
- `backend/package.json` - npm è„šæœ¬

## éœ€è¦å¸®åŠ©ï¼Ÿ

æŸ¥çœ‹å…¶ä»–æ–‡æ¡£ï¼š
- `QUICK_START.md` - å¿«é€Ÿå¼€å§‹æŒ‡å—
- `README.md` - é¡¹ç›®è¯´æ˜
- `backend/src/models/` - æ•°æ®æ¨¡å‹å®šä¹‰
